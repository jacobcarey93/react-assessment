import React, { Component } from 'react';
import './AuthView.css';
import axios from 'axios';
import { Link } from 'react-router-dom';

class AuthView extends Component {
  constructor() {
    super()
    this.state = {
      username: '',
      password: '',
    }
    this.loginUser = this.loginUser.bind(this);
    this.registerUser = this.registerUser.bind(this);
  }

  handleChange(e, formfield) {
    this.setState({
      [formfield]: e
    })
  }

  registerUser() {
    const data = {
      username: this.state.username,
      password: this.state.password
    }
    axios.post('/api/auth/register', data)
      .then((res) => {
        console.log(res)
      })
  }

  loginUser() {
    const data = {
      username: this.state.username,
      password: this.state.password
    }
    axios.post('/api/auth/login', data)
      .then((res) => {
        console.log(res)
      })
  }

  render() {
    return (
      <div className="AuthView">
        <div className='auth-parent'>
          <div className='center'>

            <div>
              <img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRv%0D%0AcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVy%0D%0Ac2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIw%0D%0AMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lv%0D%0Abj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIuMDA0%0D%0AIDUxMi4wMDQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMi4wMDQgNTEyLjAw%0D%0ANDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+Cjxn%0D%0APgoJPGc+CgkJPGc+CgkJCTxwYXRoIGQ9Ik0yOTEuMDU3LDI0Mi44MTFjMS41MSwyLjk1Myw0LjUx%0D%0ANCw0LjY1OSw3LjYyLDQuNjU5YzEuMjk3LDAsMi42MjgtMC4yOTksMy44NjYtMC45MyAgICAgYzAu%0D%0ANTAzLTAuMjU2LDUwLjczMS0yNS43NzEsNzUuNTAzLTMzLjU5NmM0LjQ4OS0xLjQyNSw2Ljk4LTYu%0D%0AMjIxLDUuNTU1LTEwLjcwOWMtMS40MTctNC40ODktNi4xNzgtNi45ODktMTAuNzA5LTUuNTcyICAg%0D%0AICBjLTI2LjA5NSw4LjI1Mi03NS45ODEsMzMuNTk2LTc4LjA5NywzNC42NzFDMjkwLjU5NiwyMzMu%0D%0ANDY3LDI4OC45MjQsMjM4LjYwNSwyOTEuMDU3LDI0Mi44MTF6IiBmaWxsPSIjNGUxZTI5Ii8+CgkJ%0D%0ACTxwYXRoIGQ9Ik0yOTguNjc3LDE0NS4wNzFjMS4yOTcsMCwyLjYyOC0wLjI5OSwzLjg2Ni0wLjkz%0D%0AYzAuNTAzLTAuMjU2LDUwLjczMS0yNS43NzEsNzUuNTAzLTMzLjU5NiAgICAgYzQuNDg5LTEuNDI1%0D%0ALDYuOTgtNi4yMjEsNS41NTUtMTAuNzA5Yy0xLjQxNy00LjQ4OS02LjE3OC02Ljk4OS0xMC43MDkt%0D%0ANS41NzJjLTI2LjA5NSw4LjI1Mi03NS45ODEsMzMuNTk2LTc4LjA5NywzNC42NzEgICAgIGMtNC4x%0D%0AOTgsMi4xMzMtNS44NzEsNy4yNy0zLjczOCwxMS40NzdDMjkyLjU2NywxNDMuMzY0LDI5NS41NzEs%0D%0AMTQ1LjA3MSwyOTguNjc3LDE0NS4wNzF6IiBmaWxsPSIjNGUxZTI5Ii8+CgkJCTxwYXRoIGQ9Ik01%0D%0AMDMuNDY5LDEyOC4wMDRjLTQuNzE5LDAtOC41MzMsMy44MjMtOC41MzMsOC41MzN2MzMyLjhjMCwx%0D%0ANC4xMTQtMTEuNDg2LDI1LjYtMjUuNiwyNS42aC0yMDQuOHYtMTkuNjM1ICAgICBjMTIuNDQyLTQu%0D%0AMzUyLDQ0Ljg1MS0xNC40OTgsNzYuOC0xNC40OThjNzQuMzM0LDAsMTI0LjgwOSwxNi40NjEsMTI1%0D%0ALjMxMiwxNi42MzFjMi41NjgsMC44NTMsNS40MzYsMC40MjcsNy42OC0xLjE3OCAgICAgYzIuMjI3%0D%0ALTEuNjA0LDMuNTQxLTQuMTgxLDMuNTQxLTYuOTIxVjkzLjg3MWMwLTQuMDAyLTIuNzczLTcuNDY3%0D%0ALTYuNjgyLTguMzI5YzAsMC02LjY5LTEuNDkzLTE4LjEyNS0zLjU5MyAgICAgYy00LjYxNy0wLjg1%0D%0AMy05LjA3OSwyLjIxOS05LjkzMyw2Ljg0NGMtMC44NTMsNC42NDIsMi4yMSw5LjA4OCw2Ljg0NCw5%0D%0ALjk0MWM0LjM2MSwwLjgwMiw4LjAxMywxLjUxLDEwLjgyOSwyLjA3NHYzNTcuMTg4ICAgICBjLTE5%0D%0ALjMzNy01LjA2OS02Mi4yNzYtMTQuMjU5LTExOS40NjctMTQuMjU5Yy0zNy4xOCwwLTczLjcwMiwx%0D%0AMi4yMTEtODUuMDAxLDE2LjM1Yy0xMC4wNDQtNC40MzctNDAuNDA1LTE2LjM1LTc3LjEzMy0xNi4z%0D%0ANSAgICAgYy01OC43NzgsMC0xMDcuMTk2LDkuNjk0LTEyOCwxNC42MThWMTAwLjQ3NWMxNy4wNDEt%0D%0ANC4xOSw2Ny4zNzEtMTUuMTM4LDEyOC0xNS4xMzhjMzEuMTEzLDAsNTcuNzk2LDkuNjg1LDY4LjI2%0D%0ANywxNC4wNjN2MzM1LjgwNCAgICAgYzAsMy4wNzIsMS42NTUsNS45MTQsNC4zMjYsNy40MjRjMi42%0D%0ANzEsMS41MTksNS45NjUsMS40NzYsOC42MDItMC4xMTFjMC44NDUtMC41MDMsODUuMzkzLTUxLjAw%0D%0ANCwxNjAuNDM1LTc2LjAxNSAgICAgYzMuNDktMS4xNjksNS44MzctNC40Miw1LjgzNy04LjA5OFY4%0D%0ALjUzN2MwLTIuNzk5LTEuMzc0LTUuNDE5LTMuNjc4LTcuMDE0Yy0yLjI4Ny0xLjU5Ni01LjIyMi0x%0D%0ALjk2My03Ljg1OS0wLjk4MSAgICAgQzM0Ni44NTYsMjYuMTUsMjc3Ljc3MSw2OS4xNDEsMjc3LjA3%0D%0AOSw2OS41NjhjLTMuOTk0LDIuNS01LjIxNCw3Ljc2NS0yLjcxNCwxMS43NTljMi40OTIsMy45OTQs%0D%0ANy43NTcsNS4yMTQsMTEuNzU5LDIuNzE0ICAgICBjMC42MzEtMC40MDEsNjAuNzMyLTM3Ljc5NCwx%0D%0AMjMuNDc3LTYzLjAyN3YzMzEuMjgxYy01OC4yNDksMjAuMjQxLTExOS4wNjYsNTMuMjkxLTE0NS4w%0D%0ANjcsNjguMDg3VjkzLjg3MSAgICAgYzAtMy4yMzQtMS44MjYtNi4xODctNC43MTktNy42MzdjLTEu%0D%0ANDY4LTAuNzI1LTM2LjQzNy0xNy45NjMtODAuNjE0LTE3Ljk2M2MtNzcuMTA3LDAtMTM2LjM4OCwx%0D%0ANi42ODMtMTM4Ljg4LDE3LjM5OSAgICAgYy0zLjY2MSwxLjA0MS02LjE4Nyw0LjM5NS02LjE4Nyw4%0D%0ALjIwMXYzNzUuNDY3YzAsMi42NzEsMS4yNjMsNS4xOTcsMy4zODgsNi44MWMxLjUwMiwxLjEzNSwz%0D%0ALjMxMSwxLjcyNCw1LjE0NiwxLjcyNCAgICAgYzAuNzg1LDAsMS41Ny0wLjExMSwyLjMzOC0wLjMz%0D%0AM2MwLjU4OS0wLjE2Miw1OS41OTctMTYuNzM0LDEzNC4xOTUtMTYuNzM0YzMxLjE5OCwwLDU3Ljg1%0D%0ANiw5LjcxMSw2OC4yNjcsMTQuMDcxdjIwLjA2MmgtMjA0LjggICAgIGMtMTQuMTE0LDAtMjUuNi0x%0D%0AMS40ODYtMjUuNi0yNS42di0zMzIuOGMwLTQuNzEtMy44MjMtOC41MzMtOC41MzMtOC41MzNzLTgu%0D%0ANTMzLDMuODIzLTguNTMzLDguNTMzdjMzMi44ICAgICBjMCwyMy41MjYsMTkuMTQsNDIuNjY3LDQy%0D%0ALjY2Nyw0Mi42NjdoNDI2LjY2N2MyMy41MjYsMCw0Mi42NjctMTkuMTQsNDIuNjY3LTQyLjY2N3Yt%0D%0AMzMyLjggICAgIEM1MTIuMDAyLDEzMS44MjcsNTA4LjE4OCwxMjguMDA0LDUwMy40NjksMTI4LjAw%0D%0ANHoiIGZpbGw9IiM0ZTFlMjkiLz4KCQkJPHBhdGggZD0iTTI5MS4wNTcsMTkxLjYxMWMxLjUxLDIu%0D%0AOTUzLDQuNTE0LDQuNjU5LDcuNjIsNC42NTljMS4yOTcsMCwyLjYyOC0wLjI5OSwzLjg2Ni0wLjkz%0D%0AICAgICBjMC41MDMtMC4yNTYsNTAuNzMxLTI1Ljc3MSw3NS41MDMtMzMuNTk2YzQuNDg5LTEuNDI1%0D%0ALDYuOTgtNi4yMjEsNS41NTUtMTAuNzA5Yy0xLjQxNy00LjQ4OS02LjE3OC02Ljk4OS0xMC43MDkt%0D%0ANS41NzIgICAgIGMtMjYuMDk1LDguMjUyLTc1Ljk4MSwzMy41OTYtNzguMDk3LDM0LjY3MUMyOTAu%0D%0ANTk2LDE4Mi4yNjcsMjg4LjkyNCwxODcuNDA1LDI5MS4wNTcsMTkxLjYxMXoiIGZpbGw9IiM0ZTFl%0D%0AMjkiLz4KCQkJPHBhdGggZD0iTTI5MS4wNTcsMjk0LjAxMWMxLjUxLDIuOTUzLDQuNTE0LDQuNjU5%0D%0ALDcuNjIsNC42NTljMS4yOTcsMCwyLjYyOC0wLjI5OSwzLjg2Ni0wLjkzICAgICBjMC41MDMtMC4y%0D%0ANTYsNTAuNzMxLTI1Ljc3MSw3NS41MDMtMzMuNTk2YzQuNDg5LTEuNDI1LDYuOTgtNi4yMjEsNS41%0D%0ANTUtMTAuNzA5Yy0xLjQxNy00LjQ4OS02LjE3OC02Ljk4OS0xMC43MDktNS41NzIgICAgIGMtMjYu%0D%0AMDk1LDguMjUyLTc1Ljk4MSwzMy41OTYtNzguMDk3LDM0LjY3MUMyOTAuNTk2LDI4NC42NjcsMjg4%0D%0ALjkyNCwyODkuODA1LDI5MS4wNTcsMjk0LjAxMXoiIGZpbGw9IiM0ZTFlMjkiLz4KCQkJPHBhdGgg%0D%0AZD0iTTIwNi43NDgsMTU4LjM2NmMtNTIuNjkzLTEyLjM2NS0xMTIuNTcyLDMuMzg4LTExNS4wODks%0D%0ANC4wNjJjLTQuNTQ4LDEuMjItNy4yNTMsNS44OTYtNi4wMzMsMTAuNDUzICAgICBjMS4wMjQsMy44%0D%0AMTQsNC40NzEsNi4zMjMsOC4yMzUsNi4zMjNjMC43MzQsMCwxLjQ3Ni0wLjA5NCwyLjIxOS0wLjI5%0D%0AYzAuNTcyLTAuMTYyLDU4LjIyMy0xNS4zMjYsMTA2Ljc3OC0zLjkzNCAgICAgYzQuNTY1LDEuMDY3%0D%0ALDkuMTgyLTEuNzc1LDEwLjI1Ny02LjM2NkMyMTQuMTg5LDE2NC4wMzIsMjExLjMzOSwxNTkuNDQx%0D%0ALDIwNi43NDgsMTU4LjM2NnoiIGZpbGw9IiM0ZTFlMjkiLz4KCQkJPHBhdGggZD0iTTIwNi43NDgs%0D%0AMjA5LjU2NmMtNTIuNjkzLTEyLjM1Ni0xMTIuNTcyLDMuMzg4LTExNS4wODksNC4wNjJjLTQuNTQ4%0D%0ALDEuMjItNy4yNTMsNS44OTctNi4wMzMsMTAuNDUzICAgICBjMS4wMjQsMy44MTQsNC40NzEsNi4z%0D%0AMjMsOC4yMzUsNi4zMjNjMC43MzQsMCwxLjQ3Ni0wLjA5NCwyLjIxOS0wLjI5YzAuNTcyLTAuMTYy%0D%0ALDU4LjIyMy0xNS4zMjYsMTA2Ljc3OC0zLjkzNCAgICAgYzQuNTY1LDEuMDY3LDkuMTgyLTEuNzc1%0D%0ALDEwLjI1Ny02LjM2NkMyMTQuMTg5LDIxNS4yMzIsMjExLjMzOSwyMTAuNjQxLDIwNi43NDgsMjA5%0D%0ALjU2NnoiIGZpbGw9IiM0ZTFlMjkiLz4KCQkJPHBhdGggZD0iTTI5MS4wNTcsMzQ1LjIxMWMxLjUx%0D%0ALDIuOTUzLDQuNTE0LDQuNjU5LDcuNjIsNC42NTljMS4yOTcsMCwyLjYyOC0wLjI5OSwzLjg2Ni0w%0D%0ALjkzICAgICBjMC41MDMtMC4yNTYsNTAuNzMxLTI1Ljc3MSw3NS41MDMtMzMuNTk2YzQuNDg5LTEu%0D%0ANDI1LDYuOTgtNi4yMjEsNS41NTUtMTAuNzA5Yy0xLjQxNy00LjQ4OC02LjE3OC02Ljk4OS0xMC43%0D%0AMDktNS41NzIgICAgIGMtMjYuMDk1LDguMjUyLTc1Ljk4MSwzMy41OTYtNzguMDk3LDM0LjY3MUMy%0D%0AOTAuNTk2LDMzNS44NjcsMjg4LjkyNCwzNDEuMDA1LDI5MS4wNTcsMzQ1LjIxMXoiIGZpbGw9IiM0%0D%0AZTFlMjkiLz4KCQkJPHBhdGggZD0iTTIwNi43NDgsMjYwLjc2NmMtNTIuNjkzLTEyLjM1Ni0xMTIu%0D%0ANTcyLDMuMzc5LTExNS4wODksNC4wNjJjLTQuNTQ4LDEuMjItNy4yNTMsNS44OTctNi4wMzMsMTAu%0D%0ANDUzICAgICBjMS4wMjQsMy44MTQsNC40NzEsNi4zMzIsOC4yMzUsNi4zMzJjMC43MzQsMCwxLjQ3%0D%0ANi0wLjEwMiwyLjIxOS0wLjI5OWMwLjU3Mi0wLjE2Miw1OC4yMjMtMTUuMzI2LDEwNi43NzgtMy45%0D%0AMzQgICAgIGM0LjU2NSwxLjA2Nyw5LjE4Mi0xLjc3NSwxMC4yNTctNi4zNjZDMjE0LjE4OSwyNjYu%0D%0ANDMyLDIxMS4zMzksMjYxLjg0MSwyMDYuNzQ4LDI2MC43NjZ6IiBmaWxsPSIjNGUxZTI5Ii8+CgkJ%0D%0ACTxwYXRoIGQ9Ik0yMDYuNzQ4LDM2My4xNjZjLTUyLjY5My0xMi4zNjUtMTEyLjU3MiwzLjM4OC0x%0D%0AMTUuMDg5LDQuMDYyYy00LjU0OCwxLjIyLTcuMjUzLDUuODk3LTYuMDMzLDEwLjQ1MyAgICAgYzEu%0D%0AMDI0LDMuODE0LDQuNDcxLDYuMzMyLDguMjM1LDYuMzMyYzAuNzM0LDAsMS40NzYtMC4xMDIsMi4y%0D%0AMTktMC4yOTljMC41NzItMC4xNjIsNTguMjIzLTE1LjMyNiwxMDYuNzc4LTMuOTM0ICAgICBjNC41%0D%0ANjUsMS4wNTgsOS4xODItMS43NzUsMTAuMjU3LTYuMzY2QzIxNC4xODksMzY4LjgzMiwyMTEuMzM5%0D%0ALDM2NC4yNDEsMjA2Ljc0OCwzNjMuMTY2eiIgZmlsbD0iIzRlMWUyOSIvPgoJCQk8cGF0aCBkPSJN%0D%0AMjA2Ljc0OCwzMTEuOTY2Yy01Mi42OTMtMTIuMzY1LTExMi41NzIsMy4zNzktMTE1LjA4OSw0LjA2%0D%0AMmMtNC41NDgsMS4yMi03LjI1Myw1Ljg5Ny02LjAzMywxMC40NTMgICAgIGMxLjAyNCwzLjgxNCw0%0D%0ALjQ3MSw2LjMzMiw4LjIzNSw2LjMzMmMwLjczNCwwLDEuNDc2LTAuMTAyLDIuMjE5LTAuMjk5YzAu%0D%0ANTcyLTAuMTYyLDU4LjIyMy0xNS4zMjYsMTA2Ljc3OC0zLjkzNCAgICAgYzQuNTY1LDEuMDY3LDku%0D%0AMTgyLTEuNzc1LDEwLjI1Ny02LjM2NkMyMTQuMTg5LDMxNy42MzIsMjExLjMzOSwzMTMuMDQxLDIw%0D%0ANi43NDgsMzExLjk2NnoiIGZpbGw9IiM0ZTFlMjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGc+Cjwv%0D%0AZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4K%0D%0APGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+%0D%0ACjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==' alt='book exchange logo' />
            </div>
            <div>
              <h1>BOOK EXCHANGE</h1>
            </div>
          </div>
          <div className='login-parent'>
            <div className='login-inputs'>
              Username
            <input type="text" className="username" onChange={(e) => this.handleChange(e.target.value, 'username')} required />
            </div>
            <div className='login-inputs'>
              Password
            <input type="text" className="password" onChange={(e) => this.handleChange(e.target.value, 'password')} required />
            </div>
            <div className='login-btns'>
              <Link to='/browsing'>
                <button onClick={() => this.registerUser()}>REGISTER</button>
              </Link>
              <Link to='/browsing'>
                <button onClick={() => this.loginUser()}>LOGIN</button>
              </Link>
            </div>
          </div>

        </div>
      </div>
    );
  }
}

export default AuthView;
